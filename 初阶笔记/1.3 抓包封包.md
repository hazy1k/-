# 第1章第3节 抓包封包

## 1.3.1 抓包技术应用意义

    有些应用或者目标是看不到的，这时候就要进行抓包

## 1.3.2 抓包技术应用对象

    app、小程序....

## 1.3.3 抓包技术应用协议

    http、socket....

## 1.3.4 抓包技术应用支持

    Fiddler、Charles、BurpSuite...

## 1.3.5 抓包技术应用意义

- 为什么要抓包？抓包应用的资产信息进行安全测试

- 抓包对象有那些？小程序,APP,桌面应用等

- 抓包协议区别工具？有部分应用不走HTTP/S，需要用到全局协议抓包

- 封包和抓包不同之处？零散整体的区别，封包能精确到每个操作的数据包

## 1.3.6 环境配置&安装证书

- [2023最新版—Brup_Suite安装配置----最详细的教程（测试木头人）-CSDN博客](https://blog.csdn.net/qq_59344199/article/details/128022680)

- [Fiddler抓包配置和使用（全网最详细教程）_fiddler 配置在线-CSDN博客](https://blog.csdn.net/qq_22803691/article/details/104243501)

- [charles安装与配置教程【全网最全】设置抓取http和https_charles http-CSDN博客](https://blog.csdn.net/wangxiuxiuxiuxiu/article/details/119763594)

- [【2023最新版】超详细Wireshark安装保姆级教程，及简单使用Wireshark抓包(网络分析)_wireshark安装教程-CSDN博客](https://blog.csdn.net/Eoning/article/details/132141665)

## 1.3.7 演示案例

![](https://img.picgo.net/2024/06/01/-2024-06-01-202638850441a24f53219d.png)

### 1.3.7.1 Web应用站点操作数据抓包-浏览器审查查看元素网络监听

- 打开浏览器，随便打开一个网站，右键点击审查元素（检查）-不同浏览器叫不同名字

![](https://img.picgo.net/2024/06/01/-2024-06-01-1704055f5caf282b45368f.png)

- 再点击Notwork（网络）-功能是监听数据包：当我们在网站上进行一些操作时候就会抓取我们操作的数据包

![](https://img.picgo.net/2024/06/01/-2024-06-01-170647e1a5a98c90ef76a2.png)

### 1.3.7.2 APP&小程序&PC抓包HTTP/S-Charles&Fiddler&Burpsuite

1. APP抓包
- 首先配置好抓包软件上的代理，相信看了环境配置，应该知道怎么做

- 接下来配置模拟器代理：改成我们的内网ip和设置的端口

![](https://img.picgo.net/2024/06/01/-2024-06-01-163027c1abf7a6a32d7939.png)

- 打开模拟器上面的软件，开始抓取数据包

![](https://img.picgo.net/2024/06/01/-2024-06-01-1634203bb36d9aca22dea6.png)

- 点击APP上面的功能，会出现一些新的数据包。我们可以查看相关数据

![](https://img.picgo.net/2024/06/01/-2024-06-01-1702380cabc18a714dc7f9.png)

- 把重要信息抓出来，独立访问，方便后面操作

![](https://img.picgo.net/2024/06/01/-2024-06-01-1644555d788f6c6013012b.png)

- 其他抓包软件都差不多，自行尝试

---

2. 小程序抓包
- 打开微信，打开一个小程序，就可以开始抓包了

![](https://img.picgo.net/2024/06/01/-2024-06-01-165317fe70af16dd4f2fb5.png)

- 后面的操作就和网站一样了

---

3. PC应用软件抓包
- 相同的道理，打开软件开始抓包

![](https://img.picgo.net/2024/06/01/-2024-06-01-165933b64dfeba4bafb147.png)

- 但是我们会发现，有些数据包抓不到啊-因为它用了其他协议-下面我们马上来讲

![](https://img.picgo.net/2024/06/01/-2024-06-01-165933b64dfeba4bafb147.png)

### 1.3.7.3 程序进程&网络接口&其他协议抓包-WireShark&科来网络分析系统

- 我们初步知道了http(s)协议怎么抓包，但是很多其他协议的我们没有抓到，这时候就需要其他工具：WireShark

![](https://img.picgo.net/2024/06/01/-2024-06-01-193702b3aedc74740919c9.png)

- 选择以太网-打开某个网站-我们看到已经抓到不同协议的数据包了

![](https://img.picgo.net/2024/06/01/-2024-06-01-1939256b19c0903caf5d7f.png)

---

- 但是WireShark过于专业，新手看不懂-这时候可以使用科来

![](https://img.picgo.net/2024/06/01/-2024-06-01-19422459cd5fe9159b3126.png)

- 打开网站/软件，依旧可以抓到各种协议数据包

![](https://img.picgo.net/2024/06/01/-2024-06-01-194327aa62b81f8a31fb40.png)

- 为什么说科来对新手很友好-协议、进程都分了类-一目了然

![](https://img.picgo.net/2024/06/01/-2024-06-01-194618b28cf5931f037d99.png)

### 1.3.7.4 通讯类应用封包分析发送介绍-WPE四件套封包-科来网络分析系统

- 首先启动科来工具，再在模拟器上面打开一个游戏

![](https://img.picgo.net/2024/06/01/-2024-06-01-200515adb40ba8d739fd54.png)

- 在游戏里进行操作，分析数据包-此时我们发现一个数据一直在动-说明游戏角色与服务器通信就是这个地址啦

![](https://img.picgo.net/2024/06/01/-2024-06-01-2007202e4a8ae558aec289.png)

- 如果需要进一步操作就需要用到封包工具-点回城前启动工具-再点重发送数据包实现了回城（并且数据包的地址就是上面分析的角色通讯地址）

![](https://img.picgo.net/2024/06/01/-2024-06-01-201752ce480ae4df8d00ff.png)
